# JS函数

 ## 函数的作用

 函数： function, 是被设计为执行特定任务的代码块，其可以精简代码方便复用

 在 JavaScript 中，函数是一种特殊类型的对象，可以包含可执行的代码。函数可以被定义一次，然后在需要的地方多次调用执行。这可以避免代码的重复，使得代码更加简洁和易于维护。

函数的基本语法如下：

```javascript
function functionName(parameters) {
  // code to be executed
}
```

其中：

- `function` 是声明函数的关键字。
- `functionName` 是函数的名称。
- `parameters` 是传递给函数的参数，可以有多个，用逗号隔开。参数是函数在执行时使用的值的占位符。
- `{}` 中的代码是函数体，定义了函数被调用时要执行的操作。

函数可以通过名称后面加上括号 `()` 的方式来调用。如果函数需要参数，那么这些参数的值需要在调用时传入括号中。

例如，下面的函数 `add` 接收两个参数并返回它们的和：

```javascript
function add(num1, num2) {  
  return num1 + num2;
}

let result = add(3, 4);  // result now holds the value 7
```

此外，函数也可以没有任何参数，例如：

```javascript
function sayHello() {
  console.log("Hello!");
}

sayHello();  // Outputs "Hello!" to the console
```


## 函数传参

形参：声明函数时写在函数名右边小括号里的叫形参（形式上的参数）
实参：调用函数时写在函数名右边小括号里的叫实参（实际上的参数）

## return 返回值的一些细节

- 在函数体中使用return关键字能将内部的执行结果交给函数外部使用
- return 后面代码不会再被执行，会立即结束当前函数，所以return后面的数据不要换行写
- return函数可以没有return，这种情况函数默认返回值为undefind



## 参数默认值

在ES6（也称为ES2015）及其之后的版本中，JavaScript引入了函数参数的默认值。这意味着在函数定义中，你可以为参数设置一个默认值。当该参数没有被传入或者其值为`undefined`时，这个默认值会被使用。

这是一个非常有用的特性，特别是当你有一个函数，其中某些参数在大多数情况下都有一个常用值，但在某些情况下可能需要提供不同的值。

这是如何使用它的例子：

```javascript
function greet(name = "Guest") {
  console.log("Hello, " + name + "!");
}

greet();           // 输出: Hello, Guest!
greet("Alice");    // 输出: Hello, Alice!
greet(undefined);  // 输出: Hello, Guest!
```

在上述代码中，`name`参数有一个默认值`"Guest"`。当你调用`greet()`函数并不提供`name`参数时，`"Guest"`会被作为默认值使用。如果你提供了参数，如`"Alice"`，那么该提供的值会被使用。

需要注意的是，如果你传递了`undefined`作为参数值，函数仍然会使用默认值。但如果你传递其他的假值（如`null`、`0`、`false`或`""`），默认值不会被使用，因为这些值不是`undefined`。




## 函数细节补充

- 两个相同的函数后面会覆盖前面的函数
- 在JS中，实参形参个数可以不一致—
  1. 如果形参过多，会自动填上undefined(了解即可)
  2. 如果实参过多，那么多余的实参会被忽略（函数内部有一个arguments，里面装着所有的实参）
- 函数一旦碰到return就不会再往下执行了，函数的结果用return


## 作用域

在JavaScript中，"作用域"是一个非常重要的概念，它决定了变量、函数和对象的可见性和生命周期。它定义了一个变量或其他表达式在代码中的"范围"，或者说在哪里可以访问到这个变量。

JavaScript有两种类型的作用域（也由此分为全局变量和局部变量）：

1. 全局作用域：在代码的任何地方都可以访问到的变量，都处在全局作用域。一般来说，直接在最外层（不在任何函数内部）定义的变量就是全局变量，它们可以在代码的任何地方被访问到。

2. 局部作用域：在函数内部定义的变量具有局部作用域，它们只能在这个函数内部被访问到。这些变量在函数外部是不能被访问到的，当函数执行完成后，这些变量就会被销毁。

来看一个简单的例子：

```javascript 
let globalVar = "I am global!"; // 这是一个全局变量

function testScope() {
  let localVar = "I am local!"; // 这是一个局部变量
  console.log(globalVar); // 这里可以访问全局变量
  console.log(localVar); // 这里可以访问局部变量
}

testScope(); // 调用函数，打印出全局变量和局部变量的值

console.log(globalVar); // 这里可以访问全局变量
console.log(localVar); // 错误：这里不能访问局部变量，因为它只在testScope函数内部定义
```

在上面的代码中，`globalVar`是一个全局变量，可以在整个代码中访问到，而`localVar`只在`testScope`函数内部定义，所以它只有在这个函数内部可以被访问。

理解作用域对于理解变量生命周期、避免命名冲突，以及理解JavaScript的一些高级特性（例如闭包）都非常重要。



## 变量的访问原则

- 只要是代码，就至少有一个作用域
- 写在函数内部的局部作用域
- 如果函数中还有函数，那么在这个作用域中就又可以诞生一个作用域
- 访问原则：在能够访问到的情况下先局部，局部没有再找全局


## 匿名函数

没有名字的函数，无法直接使用

使用方式：
- 函数表达式
- 立即执行函数


1. 函数表达式

将匿名函数赋值给一个变量，并且通过变量名称进行调用，我们称这个为函数表达式

语法：

let fn = function(){
  //函数体
}

调用：
fn()  //函数名()

## 匿名函数立即调用作用

- 防止变量污染

即时执行函数表达式（IIFE）：匿名函数也经常用于即时执行函数表达式，以立即执行一段代码。
(注意即时执行函数句子末尾得加分号)

```js 
(function() {
  // 这里的代码会立即执行，并且变量会在这个作用域内隔离
})();

```
