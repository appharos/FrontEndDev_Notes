## 页面加载事件

1. 加载外部资源(如图片、外联CSS和JavaScript等)加载完毕时触发的事件

方便有的时候需要把页面资源全部处理完了做一些事情


- 事件名:load
- 监听页面所有资源加载完毕：
- 给window添加load事件

```js
// 页面加载事件
window.addEventListener('load', function(){
    // 执行的操作
    })
```

注意： 不光可以监听整个页面资源加载完毕，也可以针对某个资源绑定load事件（针对某个比较大的资源）



2. 当初始的HTML文档被完全加载和解析完成之后，DOMContentLoaded事件被触发，而无需等待样式表、图像等完全加载


- 时间名：DOMContentLoaded
- 监听页面DOM加载完毕：
- 给document添加DOMContentLoaded事件

```js
document.addEventListener('DOMContentLoaded', function(){
    //执行的操作
})
```


## 元素滚动事件

1. 滚动条在滚动的时候需要持续触发的事件

- 作用： 很多网页需要检测用户把页面滚动到某个区域后做一些处理，比如固定导航栏，比如返回顶部

- 事件名：scroll

- 监听整个页面滚动：

```js
// 页面滚动事件
window.addEventListener('scroll', function(){
    // 执行的操作
})
```

给window或document添加scroll事件

- 监听某个元素内部滚动直接给某个元素加即可


2. 页面滚动事件-获取位置

scrollLeft和scrollTop （属性）

- 获取被卷去的大小
- 获取元素内容往左、往上滚出去看不到的距离
- 这两个值是可读写的

获取当前整个页面（html元素）滚动了多少距离：

```js
console.log(document.documentElement.scrollTop)

```

3. 页面滚动事件-滚动到指定的坐标

- scrollTo(方法)可把内容滚动到指定的坐标
- 语法：元素。scrollTo(x,y)
  
```js
// 让页面滚动到y轴 1000像素的单位的位置
window.scrollTo(0,1000)
```

GPT解释**document.documentElement**属性


`document.documentElement` 在 JavaScript 中是一个非常重要的属性，它返回文档对象（document）的根元素，通常是 `<html>` 元素。通过这个属性，你可以访问到整个DOM（文档对象模型）的根，从而可以方便地操作和访问文档的各个部分。

下面是 `document.documentElement` 的一些常见用法：

### 1. 获取文档的根元素：
```javascript
var rootElement = document.documentElement;
console.log(rootElement);  // 输出 <html> 元素
```

### 2. 访问和修改文档属性：
你可以通过 `document.documentElement` 来访问和修改文档的一些属性。例如，你可以修改文档的样式：
```javascript
document.documentElement.style.fontSize = '16px';  // 设置文档的字体大小
```

### 3. 访问文档的子元素：
通过 `document.documentElement`，你可以访问文档的所有子元素，包括 `<head>` 和 `<body>` 元素：
```javascript
var head = document.documentElement.children[0];
var body = document.documentElement.children[1];
console.log(head);  // 输出 <head> 元素
console.log(body);  // 输出 <body> 元素
```

### 4. 获取视口的尺寸：
`document.documentElement` 也常用于获取浏览器视口的尺寸：
```javascript
var viewportWidth = document.documentElement.clientWidth;
var viewportHeight = document.documentElement.clientHeight;
console.log(viewportWidth, viewportHeight);  // 输出视口的宽度和高度
```

### 5. 滚动操作：
你还可以通过 `document.documentElement` 来获取或设置文档的滚动位置：
```javascript
var scrollTop = document.documentElement.scrollTop;
var scrollLeft = document.documentElement.scrollLeft;
console.log(scrollTop, scrollLeft);  // 输出文档的滚动位置
document.documentElement.scrollTop = 100;  // 设置文档的滚动位置
```

通过上述示例，你可以看到 `document.documentElement` 是一个非常有用的属性，它为你提供了一个方便的方式来访问和操作整个文档结构和属性。在你学习前端开发时，这个属性会是一个非常有用的工具。



## 页面尺寸事件

1. 会在窗口尺寸改变的时候触发事件：

- resize 

```js
window.addEventListener('resize', function(){
    // 执行的代码
})
```

2. 检测屏幕的宽度：

```js
window.addEventListener('resize', function(){
    let w = docunment.documentElement.clientWidth
    console.log(w)
})
```


3. 获取宽高 clientWidth 和 clientHeight

- 获取元素的可见部分宽高（不包含边框，margin, 滚动条）
- clientWidth 和 clientHeight


4. 元素尺寸与位置-尺寸 offsetWidth和offsetHeight

- 获取宽高：
获取元素的自身宽高、包含元素自身设置的宽高、padding、border

获取出来的是数值，方便计算
**注意**：获取的是可视宽高，如果盒子是隐藏的，获取的结果是0


- 获取位置：
获取元素距离自己**定位父级元素**的左、上距离
offsetLeft和offsetTop注意是只读属性



**重点**
clientWidth 和 clientHeight与offsetWidth和offsetHeight的区别

`clientWidth`、`clientHeight`、`offsetWidth`和`offsetHeight`都是常用于获取元素尺寸的DOM属性。它们之间有些微妙的差异，所以了解它们之间的关系和区别是很有用的。以下是对这些属性的详细解释：

1. **clientWidth** 和 **clientHeight**：
   - `clientWidth`：元素的内部宽度（包括内容和内边距，但不包括滚动条（如果存在的话）、边框和外边距）。
   - `clientHeight`：元素的内部高度（同上，包括内容和内边距，但不包括滚动条、边框和外边距）。
   - 如果元素中有滚动条，滚动条的宽度或高度也不会被包括在`clientWidth`和`clientHeight`中。

2. **offsetWidth** 和 **offsetHeight**：
   - `offsetWidth`：元素的外部宽度（包括内容、内边距、滚动条（如果存在的话）和边框，但不包括外边距）。
   - `offsetHeight`：元素的外部高度（同上，包括内容、内边距、滚动条和边框，但不包括外边距）。
   - 注意，这里是包括了滚动条（如果存在的话）和边框。

总结一下主要的区别：
- `clientWidth`和`clientHeight`提供了元素内容及其内边距的尺寸，不包括边框和滚动条。
- `offsetWidth`和`offsetHeight`提供了元素内容、内边距、边框和滚动条的尺寸，不包括外边距。

当你需要确定元素的确切尺寸时，选择合适的属性是非常重要的，这取决于你是否需要考虑边框和滚动条。




GPT解释：offset相关变量

## offsetWidth 和 offsetHeight 

`offsetWidth` 和 `offsetHeight` 是 DOM 元素的属性，它们提供了元素的布局宽度和高度的度量，包括元素自身的宽度和高度、内边距（padding）、边框（border），以及垂直滚动条（如果存在的话）。它们不包括外边距（margin）。

### 1. offsetWidth:
`offsetWidth` 属性返回元素的布局宽度，计算公式如下：
```plaintext
offsetWidth = 元素的宽度 + 左右内边距 + 左右边框 + 垂直滚动条的宽度（如果存在）
```

### 示例:
假设有如下的HTML元素：
```html
<div id="myDiv" style="width: 200px; padding: 10px; border: 5px solid black;"></div>
```
你可以使用JavaScript来获取 `offsetWidth`：
```javascript
var div = document.getElementById('myDiv');
console.log(div.offsetWidth);  // 输出 230
```
在这个例子中，`offsetWidth` 的值是 230，它包括了元素的宽度（200px）、左右内边距（每边10px），和左右边框（每边5px）。

### 2. offsetHeight:
`offsetHeight` 属性返回元素的布局高度，计算公式如下：
```plaintext
offsetHeight = 元素的高度 + 上下内边距 + 上下边框
```
请注意，水平滚动条的高度不会包括在 `offsetHeight` 中。

### 示例:
继续使用上面的HTML元素，假设我们为它设置一个高度： 
```html
<div id="myDiv" style="width: 200px; height: 200px; padding: 10px; border: 5px solid black;"></div>
```
你可以使用JavaScript来获取 `offsetHeight`：
```javascript
var div = document.getElementById('myDiv');
console.log(div.offsetHeight);  // 输出 230
```
在这个例子中，`offsetHeight` 的值是 230，它包括了元素的高度（200px）、上下内边距（每边10px），和上下边框（每边5px）。

`offsetWidth` 和 `offsetHeight` 是非常实用的属性，它们允许你在JavaScript中精确地测量元素的布局尺寸，这对于动态布局和元素尺寸调整是非常重要的。




## offsetLeft和 offsetTop



`offsetLeft` 和 `offsetTop` 是 DOM 元素的属性，它们分别提供了元素相对于其 offsetParent 元素的左边和顶部的偏移量。`offsetParent` 是最近的包含该元素的定位（positioned）祖先元素。如果没有定位的祖先元素，则 `offsetParent` 是最近的 `table`, `table cell` 或根元素（通常是 `body` 元素）。

### 1. offsetLeft:
`offsetLeft` 属性返回元素左外边框到其 `offsetParent` 元素的左内边框之间的像素距离。

### 示例:
```html
<div id="parent" style="position: relative;">
    <div id="child" style="margin-left: 10px;"></div>
</div>
<script>
    var child = document.getElementById('child');
    console.log(child.offsetLeft);  // 输出 10
</script>
```

在上述示例中，`child.offsetLeft` 的值是 10，因为子元素的左外边框与其 `offsetParent` （`#parent` 元素）的左内边框之间的距离是10像素。

### 2. offsetTop:
`offsetTop` 属性返回元素上外边框到其 `offsetParent` 元素的上内边框之间的像素距离。

### 示例:
```html
<div id="parent" style="position: relative;">
    <div id="child" style="margin-top: 10px;"></div>
</div>
<script>
    var child = document.getElementById('child');
    console.log(child.offsetTop);  // 输出 10
</script>
```

在上述示例中，`child.offsetTop` 的值是 10，因为子元素的上外边框与其 `offsetParent` （`#parent` 元素）的上内边框之间的距离是10像素。

`offsetLeft` 和 `offsetTop` 通常用于计算元素的位置，尤其是在进行 DOM 操作或动画时。这些属性提供了一种方便的方式来确定元素在页面中的确切位置。




### 元素尺寸于位置——尺寸

- 获取位置：
element.getBoundingClientRect()
方法返回元素的大小及其相对于视口的位置



## 页面平滑滚动
`scroll-behavior: smooth` 是一个 CSS 属性，用于控制滚动行为。在支持这一属性的浏览器中，当用户点击一个锚点链接或者通过 JavaScript 方法滚动页面时，滚动动画将平滑地进行，而不是瞬间完成。这样可以提供更好的用户体验。

### 基本用法

你可以在全局样式或者特定元素上设置这个属性。例如，如果你想要整个页面的滚动都是平滑的，可以这样设置：

```css
html {
  scroll-behavior: smooth;
}
```

### JavaScript 和 scroll-behavior

这个属性也影响使用 JavaScript 的 `window.scrollTo`、`window.scrollBy`、`window.scrollIntoView` 等方法触发的滚动操作。当 `scroll-behavior` 设置为 `smooth` 时，使用这些方法也会产生平滑的滚动效果。

### 注意

1. 不是所有浏览器都支持 `scroll-behavior: smooth`。在不支持的浏览器中，这个属性会被忽略，滚动行为会是瞬间完成的。
2. `scroll-behavior: smooth` 主要应用于垂直滚动。对于水平滚动，不是所有浏览器都支持平滑滚动。
3. 如果你需要更复杂的滚动效果（如缓动函数、滚动速度等），可能需要使用 JavaScript 库或自定义代码。

使用 `scroll-behavior: smooth` 是一种简单、纯 CSS 的方式，用于实现平滑滚动效果，无需任何 JavaScript 代码。然而，由于它是一个相对较新的特性，建议进行充分的浏览器测试以确保兼容性。