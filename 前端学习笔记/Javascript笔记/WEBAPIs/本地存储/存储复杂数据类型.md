## 存储复杂数据类型

目标：能够存储复杂数据类型以及取出数据

- 本地只能存储字符串，无法存储复杂数据类型

`localStorage` 和 `sessionStorage` 只能存储字符串类型的数据，这是由它们的设计决定的。当你尝试存储非字符串类型的数据时，这些值会被自动转换为字符串类型。这是因为Web存储API背后的数据存储模型是基于字符串键值对的。

这种设计有几个原因：
1. **简单性**: 字符串是最基本的数据类型之一，并且在所有编程语言中都有支持。通过只支持字符串，Web存储API可以保持简单，易于实现和使用。
2. **可移植性**: 字符串数据可以轻松地在不同的系统和平台之间传输和存储，而不需要担心数据类型的不兼容问题。
3. **一致性**: Web存储API的设计目标之一是提供一种简单一致的方式来存储数据。如果支持多种数据类型，那么实现和使用这个API将会变得更加复杂。

然而，这并不意味着你不能存储复杂的数据结构。你可以使用 `JSON.stringify()` 方法将一个JavaScript对象转换为一个JSON字符串，然后将其存储在localStorage或sessionStorage中。需要使用这个数据时，可以使用 `JSON.parse()` 方法将字符串转换回原始的数据结构。

```javascript
const obj = { name: 'Alice', age: 25 };

// 将对象转换为JSON字符串并存储
localStorage.setItem('user', JSON.stringify(obj));

// 获取并解析JSON字符串
const storedObj = JSON.parse(localStorage.getItem('user'));
console.log(storedObj);  // 输出: { name: 'Alice', age: 25 }
```

通过这种方式，你可以使用 `localStorage` 和 `sessionStorage` 来存储并检索复杂的数据结构，虽然在存储和检索数据时需要额外的序列化和反序列化步骤。



## JSON

JSON（JavaScript Object Notation）是一种轻量级的数据交换格式，易于阅读和编写，同时也易于机器解析和生成。虽然JSON是JavaScript的一个子集，但它可以被多种编程语言读写。

### JSON字符串
JSON字符串是一种特定格式的字符串，用来表示一个对象、数组、数值、字符串、布尔值或null。例如：

- 对象：`'{"name": "Alice", "age": 25}'`
- 数组：`'["apple", "banana", "cherry"]'`
- 数值：`'10'`
- 字符串：`'"Hello, World!"'`
- 布尔值：`'true'`
- null：`'null'`

### JSON.stringify()
`JSON.stringify()` 方法可以将一个JavaScript值（对象、数组等）转换为一个JSON字符串。这个方法是一个方便的工具，用于当你需要将JavaScript对象持久化到字符串中，或者通过网络发送对象时。函数签名如下：

```javascript
JSON.stringify(value[, replacer[, space]])
```

- `value`: 要序列化成JSON字符串的值。
- `replacer` (可选): 一个函数或数组，用于转换结果。如果是函数，它会在序列化过程中被调用，用来改变值的行为或替换值。如果是数组，它应该是一个字符串数组，指定了要序列化成JSON字符串的属性集。
- `space` (可选): 指定缩进用的空白字符串，用于美化输出。如果是一个数值，它代表有多少空格；上限为10。如果它是一个字符串（最多10个字符），则字符串将被用于每个级别的缩进。

例子：

```javascript
const obj = { name: 'Alice', age: 25 };
const jsonStr = JSON.stringify(obj);
console.log(jsonStr);  // 输出: '{"name":"Alice","age":25}'
```

### JSON.parse()
`JSON.parse()` 方法可以将一个JSON字符串转换回JavaScript的值。这对于解析从服务器接收到的数据或从本地存储检索到的数据非常有用。

函数签名如下：

```javascript
JSON.parse(text[, reviver])
```

- `text`: 要解析的JSON字符串。
- `reviver` (可选): 一个函数，用来转换结果的对象的属性值，或者转换结果的最终对象。

例子：

```javascript
const jsonStr = '{"name":"Alice","age":25}';
const obj = JSON.parse(jsonStr);
console.log(obj);  // 输出: { name: 'Alice', age: 25 }
```

总的来说，`JSON.stringify()` 和 `JSON.parse()` 是处理JSON数据和将JavaScript对象转换为可以发送或存储的字符串格式的两个非常有用的方法。