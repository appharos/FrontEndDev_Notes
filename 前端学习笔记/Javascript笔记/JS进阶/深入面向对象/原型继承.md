## 原型继承

原型继承是 JavaScript 中实现对象之间继承的一种机制。在 JavaScript 中，几乎每个对象都有一个原型（prototype），对象从其原型继承属性和方法。原型继承基于原型链的概念，是理解 JavaScript 原型模型的核心。

### 基本原理

1. **原型对象（Prototype）**：
   - 每个 JavaScript 函数都有一个 `prototype` 属性，这个属性指向一个对象，称为原型对象。
   - 原型对象通常包含可以由特定类型的所有实例共享的方法和属性。

2. **原型链（Prototype Chain）**：
   - 当试图访问一个对象的属性或方法时，如果这个对象本身没有这个属性或方法，JavaScript 引擎会查找该对象的原型（即 `__proto__` 属性，它指向创建这个对象的构造函数的原型对象）。
   - 如果在这个原型对象上仍未找到，继续沿着原型链向上查找，直到找到该属性或方法或到达原型链的顶端（`Object.prototype`，它的原型是 `null`）。

### 实现原型继承的步骤

1. **创建构造函数**：
   创建一个函数，用于定义对象的结构和属性。

2. **添加方法到原型**：
   将方法添加到构造函数的 `prototype` 属性上，这些方法可以被所有实例共享。

3. **创建对象实例**：
   使用 `new` 关键字和构造函数创建对象实例。这些实例会继承其构造函数原型上的属性和方法。

### 示例

假设我们有一个构造函数 `Animal` 和一个从 `Animal` 继承的 `Dog` 构造函数：

```javascript
function Animal(name) {
    this.name = name;
}

Animal.prototype.speak = function() {
    console.log(`${this.name} makes a sound.`);
};

function Dog(name) {
    Animal.call(this, name);
}

// 设置 Dog 的原型为 Animal 的实例，实现继承
Dog.prototype = Object.create(Animal.prototype);

// 确保 constructor 指向正确的构造函数
Dog.prototype.constructor = Dog;

Dog.prototype.bark = function() {
    console.log(`${this.name} barks.`);
};

const dog = new Dog('Rex');
dog.speak(); // Rex makes a sound.
dog.bark(); // Rex barks.
```

在这个例子中，`Dog` 继承了 `Animal` 的属性和方法。我们通过设置 `Dog.prototype` 为 `Animal.prototype` 的一个实例来实现这一点，从而创建了一个原型链。

### 原型继承的特点

- 共享属性：原型上的属性和方法可以被所有实例共享。
- 动态性：如果原型上的属性或方法发生改变，所有基于该原型创建的对象都会反映这种改变。
- 原型链：原型继承是通过原型链实现的，搜索属性和方法时会沿着原型链向上查找。

原型继承是 JavaScript 中实现继承的主要方式之一，它与基于类的继承（如在 Java 或 C++ 中）有显著的不同。
